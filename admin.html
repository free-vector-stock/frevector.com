<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DIRECT ADMIN PANEL - FREE VECTOR STOCK</title>
    <style>
        body { margin: 0; font-family: 'Segoe UI', Arial, sans-serif; background: #f4f4f4; color: #000; }
        .header { background: #000; color: #fff; padding: 25px; text-align: center; font-size: 22px; font-weight: bold; }
        .container { max-width: 700px; margin: 50px auto; background: #fff; padding: 40px; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h2 { border-bottom: 2px solid #000; padding-bottom: 10px; margin-top: 0; }
        .upload-area { border: 3px dashed #bbb; padding: 50px; text-align: center; margin: 20px 0; cursor: pointer; transition: 0.3s; background: #fafafa; }
        .upload-area:hover { border-color: #000; background: #fff; }
        #fileList { font-size: 14px; color: #444; max-height: 200px; overflow-y: auto; background: #f9f9f9; padding: 15px; border: 1px solid #eee; margin-top: 15px; }
        .btn { background: #000; color: #fff; padding: 15px; border: none; width: 100%; cursor: pointer; font-weight: bold; font-size: 16px; transition: 0.3s; margin-top: 10px; }
        .btn:hover { background: #333; }
        .btn-danger { background: #cc0000; }
        .btn-danger:hover { background: #990000; }
    </style>
</head>
<body>

<div class="header">FREE VECTOR STOCK - Management Console</div>

<div class="container">
    <h2>Bulk Asset Upload</h2>
    <p>Select your JPEG, EPS10, SVG and JSON files together. The system links them by name automatically.</p>

    <div class="upload-area" onclick="document.getElementById('fileInp').click()">
        <strong>Click to Select Multiple Files</strong>
        <p>Drop your vector assets here</p>
    </div>
    <input type="file" id="fileInp" multiple accept=".jpg,.jpeg,.eps,.svg,.json" style="display:none" onchange="processSelectedFiles(this.files)">

    <div id="fileList" style="display:none"></div>
    
    <button class="btn" onclick="syncWithSite()">SYNC ASSETS TO WEBSITE</button>
    <button class="btn btn-danger" onclick="clearData()">WIPE ALL WEBSITE DATA</button>
</div>

<script>
    let localAssets = {};

    function processSelectedFiles(files) {
        const list = document.getElementById('fileList');
        list.style.display = "block";
        list.innerHTML = "<strong>Detected Items:</strong><br>";
        localAssets = {};

        for (let file of files) {
            const parts = file.name.split('.');
            const ext = parts.pop().toLowerCase();
            const fileName = parts.join('.');

            if (!localAssets[fileName]) {
                localAssets[fileName] = { name: fileName, jpeg: null, eps: false, svg: false, meta: null };
            }

            // Placeholder image used for simulation
            if (ext === 'jpg' || ext === 'jpeg') localAssets[fileName].jpeg = "https://via.placeholder.com/600x400?text=" + fileName;
            if (ext === 'eps') localAssets[fileName].eps = true;
            if (ext === 'svg') localAssets[fileName].svg = true;
            if (ext === 'json') {
                localAssets[fileName].meta = { title: fileName, keywords: "free, vector, design", category: "Abstract" };
            }

            list.innerHTML += `<div>â€¢ ${file.name}</div>`;
        }
    }

    function syncWithSite() {
        let db = JSON.parse(localStorage.getItem('vectorDB') || "[]");
        Object.values(localAssets).forEach(item => {
            db.push({
                id: Date.now() + Math.random(),
                title: item.meta ? item.meta.title : item.name,
                category: item.meta ? item.meta.category : "Miscellaneous",
                img: item.jpeg || "https://via.placeholder.com/400x300?text=No+Preview",
                keywords: item.meta ? item.meta.keywords : "free vector",
                formats: { eps: item.eps, svg: item.svg, jpg: !!item.jpeg }
            });
        });
        localStorage.setItem('vectorDB', JSON.stringify(db));
        alert("Success! Your files are now live.");
        location.reload();
    }

    function clearData() {
        if(confirm("Are you sure? This deletes the entire gallery!")) {
            localStorage.removeItem('vectorDB');
            location.reload();
        }
    }
</script>
</body>
</html>
