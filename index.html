<div style="text-align: center; margin: 30px 0;">
    <input type="text" id="searchInput" placeholder="Tasarım ara... (Örn: fast food)" 
           style="padding: 12px; width: 300px; border-radius: 25px; border: 1px solid #f39c12; background: #111; color: white;">
</div>

<div id="vectorGrid" class="grid-container"></div>

<div id="pagination" style="text-align: center; margin-top: 40px; display: flex; justify-content: center; gap: 10px;"></div>

<script>
let allVectors = [];
let filteredVectors = [];
let currentPage = 1;
const itemsPerPage = 12; // Her sayfada kaç ürün görünsün?

// Verileri Yükle
fetch('vectors.json')
    .then(res => res.json())
    .then(data => {
        allVectors = data;
        filteredVectors = data;
        renderGallery();
    });

// Galeri ve Sayfalandırma Mantığı
function renderGallery() {
    const grid = document.getElementById('vectorGrid');
    const pagination = document.getElementById('pagination');
    grid.innerHTML = "";
    pagination.innerHTML = "";

    const start = (currentPage - 1) * itemsPerPage;
    const end = start + itemsPerPage;
    const pageItems = filteredVectors.slice(start, end);

    pageItems.forEach(name => {
        // Senin klasör yapına uygun otomatik isim eşleştirme
        const folder = name.trim();
        grid.innerHTML += `
            <div class="vector-card">
                <img src="vectors/${folder}/${folder}.jpg" alt="${folder}" loading="lazy">
                <h3>${folder.toUpperCase()}</h3>
                <a href="vectors/${folder}/${folder}.eps" class="download-btn" download>DOWNLOAD EPS</a>
            </div>
        `;
    });

    // Sayfa Numaraları Oluştur
    const pageCount = Math.ceil(filteredVectors.length / itemsPerPage);
    for (let i = 1; i <= pageCount; i++) {
        const btn = document.createElement('button');
        btn.innerText = i;
        btn.className = (i === currentPage) ? 'page-btn active' : 'page-btn';
        btn.onclick = () => { currentPage = i; renderGallery(); window.scrollTo(0,0); };
        pagination.appendChild(btn);
    }
}

// Arama Filtresi
document.getElementById('searchInput').oninput = (e) => {
    const term = e.target.value.toLowerCase();
    filteredVectors = allVectors.filter(v => v.toLowerCase().includes(term));
    currentPage = 1;
    renderGallery();
};
</script>

<style>
/* Sayfa Butonları İçin Stil */
.page-btn { padding: 10px 15px; background: #111; border: 1px solid #f39c12; color: white; cursor: pointer; border-radius: 5px; }
.page-btn.active { background: #f39c12; color: black; font-weight: bold; }
.page-btn:hover { background: #333; }
</style>
